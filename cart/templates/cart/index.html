{% extends 'base.html' %}
{% load static %}
{% block title %}cart{% endblock %}
{% block links %}
<link rel='stylesheet' href='{% static "cart/index.css" %}'>
<link rel='stylesheet' href='{% static "cart/footer.css" %}'>
{% endblock %}
{% block content %}
  {% for product in products %}
  <div id='{{ product.id }}' class='cart-product'>
    <div class='image-container'>
      <img src='{{ product.image.url }}'>
    </div>
    <div class='product-detail'>
      <h1 class='product-name highlight'>
        {{ product.name }}
      </h1>
      <div class='subdetail'>
      <div class='details'>
        {% if product.rating_ave %}
        <p>
        ‚≠ê{{ product.rating_ave }}
        </p>
        {% else %}
        <p class='empty'>no ratings yet</p>
        {% endif %}
        <p class='{% if not product.sold %}empty{% endif %}'>
          {{ product.sold }} sold
        </p>
        {% if product.reviews.all %}
        <p>
          {{ product.reviews.all|length }} review(s)
        </p>
        {% else %}
        <p class='empty'>
          no reviews yet
        </p>
        {% endif %}
        <h2 class='product-price highlight'>
          ${{ product.price }}
        </h2>
      </div>
      <div class='right-container'>
       <div class='amount-container'>
        <button>-</button>
        <input type='number' min='0' class='amount-counter' value='1'>
        <button>+</button>
       </div>
       <div class='checkbox-container'>
         <input type='checkbox'>
       </div>
      </div>
      </div>
    </div>
  </div>
  {% empty %}
  <p class='empty'>
    no products yet
  </p>
  {% endfor %}
{% include 'cart/footer.html' %}
{% endblock %}
{% block scripts %}
<script>
  const orderPreviewUrl = '{% url "pre-order" %}';
  const csrfToken = '{{ csrf_token }}'
  var toCheckOut = [];
</script>
<script src='{% static "cart/js/cart.js" %}'></script>
<script src='{% static "cart/js/footer.js" %}'></script>
{% endblock %}